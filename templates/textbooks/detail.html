{% extends 'base.html' %}
{% block title %}{{ textbook.title }}{% endblock %}

{% block content %}
<h2 class="fw-bold mb-3"><i class="bi bi-journal-bookmark"></i> {{ textbook.title }}</h2>

<div class="card mb-4">
    <div class="card-body card-hover">
        <p><strong>Author:</strong> {{ textbook.author }}</p>
        <p><strong>Edition:</strong> {{ textbook.edition }}</p>
        <p><strong>ISBN:</strong> {{ textbook.isbn }}</p>
        <p><strong>Price:</strong> ${{ textbook.price }}</p>
    </div>
</div>

<h4 class="fw-bold">Provider</h4>
<div class="card mb-4">
    <div class="card-body card-hover">
        {{ provider.provider_name }}  
        <br>
        <span class="text-muted">{{ provider.address }}</span>
    </div>
</div>

<h4 class="fw-bold">Used In Sections</h4>

<ul class="list-group mt-3 list-hover">
    {% for st in section_textbooks %}
    <li class="list-group-item d-flex justify-content-between align-items-center">

        <div>
            <strong>{{ st.section.course.course_name }}</strong><br>
            <small class="text-muted">
                {{ st.section.semester }} {{st.section.year}} â€” Instructor: {{ st.section.instructor.name }}
            </small>
        </div>

        <!-- Requirement badge -->
        <span class="badge
            {% if st.requirement_type|lower == 'required' %} bg-danger
            {% elif st.requirement_type|lower == 'recommended' %} bg-info
            {% else %} bg-secondary
            {% endif %}
            px-3 py-2">
            {{ st.requirement_type }}
        </span>

    </li>
    {% empty %}
    <li class="list-group-item text-muted">This textbook is not used in any section.</li>
    {% endfor %}
</ul>

{% endblock %}
