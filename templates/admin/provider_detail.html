{% extends "admin/base.html" %}
{% block admin_content %}

<div class="admin-header">
  <div>
    <h1><i class="bi bi-building"></i> Provider Details</h1>
    <p class="text-muted mb-0">{{ provider.provider_name }}</p>
  </div>
</div>

<!-- Provider Information -->
<div class="detail-section">
  <h4><i class="bi bi-info-circle"></i> Provider Information</h4>
  
  <form method="POST">
    {% csrf_token %}
    <div class="row mb-3">
      <div class="col-md-6">
        <label class="form-label">Provider Name</label>
        <input type="text" name="provider_name" class="form-control" value="{{ provider.provider_name }}" required>
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">Contact Number</label>
      <input type="text" name="contact_number" class="form-control" value="{{ provider.contact_number }}" required>
    </div>

    <div class="mb-3">
      <label class="form-label">Address</label>
      <textarea name="address" class="form-control" rows="4" required>{{ provider.address }}</textarea>
    </div>

    <button type="submit" class="btn btn-primary">
      <i class="bi bi-check-circle"></i> Save Changes
    </button>
  </form>
</div>

<!-- Textbooks from This Provider -->
<div class="detail-section">
  <h4><i class="bi bi-journal-bookmark-fill"></i> Textbooks from This Provider</h4>
  
  {% if textbooks %}
    <div class="table-wrapper">
      <table class="table">
        <thead>
          <tr>
            <th>Textbook ID</th>
            <th>Title</th>
            <th>Author</th>
            <th>ISBN</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          {% for textbook in textbooks %}
          <tr>
            <td><strong>{{ textbook.textbook_id }}</strong></td>
            <td>{{ textbook.title }}</td>
            <td>{{ textbook.author }}</td>
            <td>{{ textbook.isbn }}</td>
            <td>${{ textbook.price }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="text-muted">No textbooks from this provider.</p>
  {% endif %}
</div>

<!-- Back Button -->
<div class="mt-3">
  <a href="{% url 'admin_providers' %}" class="btn btn-secondary">
    <i class="bi bi-arrow-left"></i> Back to Providers
  </a>
</div>

{% endblock %}
